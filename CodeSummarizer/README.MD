# ğŸ“Š SQL/PLSQL Summarization Pipeline

This pipeline summarizes large-scale SQL and PLSQL codebases using LangGraph, Groq-hosted LLMs, and Qdrant for semantic search. It supports schema-aware summarization, chunk-level logic analysis, and high-level documentation generation â€” ideal for enterprise demos, code audits, and metadata traceability.

---

## ğŸš€ Features

- âœ… Summarizes stored procedures, functions, and scripts
- âœ… Supports Java, Python, and SQL/PLSQL code
- âœ… Schema-aware: integrates table metadata for context
- âœ… Handles multi-file inputs and large codebases
- âœ… Stores summaries in Qdrant for semantic search
- âœ… Outputs high-level and detailed documentation

---

## ğŸ“‚ Input Formats

### 1. Single File

```python
flow.invoke({
  "file_path": "path/to/code.sql"
})
```

### 2. Multiple File(Merged)

```python
code = merge_sql_files([
  "functions.sql",
  "procedure.sql"
])

flow.invoke({
  "code": code}
)
```

### 3. With Table Metadata

```python
flow.invoke({
  "file_path": "code.sql",
  "metadata_file": "table_metadata.json"
})

```

Supports:

- Single table object
- List of table objects
- Dict of tables (auto-converted)

ğŸ“˜ Output

- high_level_doc: Purpose-driven summary per chunk
- detailed_doc: Logic-level explanation with control flow
- table_names: Extracted from metadata
- Stored chunks in Qdrant for semantic search

ğŸ§  Table Metadata Format

```json
[
  {
    "table_name": "Employees",
    "description": "Stores employee details",
    "columns": {
    "EmployeeID": "INT PRIMARY KEY",
    "FirstName": "VARCHAR(50)",
    ...
    }
  }
]
```

Also supports:

```json
{
  "table_name": "...",
  "description": "...",
  "columns": { ... }
}
```

ğŸ› ï¸ Architecture

- LangGraph: Orchestrates summarization flow
- Groq LLMs: Gemma/Mixtral for summarization
- Qdrant: Stores chunk embeddings for search
- LangChain: Embedding + vector store integration

ğŸ› ï¸ Langgraph Flow

![alt text](image.png)

ğŸ› ï¸ Additional Semantic Search to the flow

![alt text](image-1.png)

ğŸ§ª Testing
Supports:

- .sql, .java, .py files
- 2000+ line stored procedures
- Multi-function ingestion
- Metadata-aware summarization

ğŸ§© Extensibility

- Add Langflow JSON for visual orchestration
- Add audit trace: link chunks to table usage



